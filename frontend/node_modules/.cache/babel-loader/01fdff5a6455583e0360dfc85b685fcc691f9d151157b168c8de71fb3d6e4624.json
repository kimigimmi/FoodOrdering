{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { API } from '../lib/api';\nconst initial = {\n  data: [],\n  loading: false,\n  error: null\n};\nexport const fetchItems = createAsyncThunk('items/fetch', async () => {\n  try {\n    const {\n      data\n    } = await axios.get(`${API}/api/items`);\n    return data;\n  } catch {\n    // Dev sırasında json-server fallback\n    const {\n      data\n    } = await axios.get('http://localhost:3001/items');\n    return data.map(d => {\n      var _d$name;\n      return {\n        id: Number(d.id),\n        name: (_d$name = d.name) !== null && _d$name !== void 0 ? _d$name : d.title,\n        image: d.image,\n        price: d.price,\n        description: d.description\n      };\n    });\n  }\n});\nconst slice = createSlice({\n  name: 'items',\n  initialState: initial,\n  reducers: {},\n  extraReducers: b => {\n    b.addCase(fetchItems.pending, s => {\n      s.loading = true;\n      s.error = null;\n    }).addCase(fetchItems.fulfilled, (s, a) => {\n      s.loading = false;\n      s.data = a.payload;\n    }).addCase(fetchItems.rejected, (s, a) => {\n      var _a$error$message;\n      s.loading = false;\n      s.error = (_a$error$message = a.error.message) !== null && _a$error$message !== void 0 ? _a$error$message : 'failed';\n    });\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","API","initial","data","loading","error","fetchItems","get","map","d","_d$name","id","Number","name","title","image","price","description","slice","initialState","reducers","extraReducers","b","addCase","pending","s","fulfilled","a","payload","rejected","_a$error$message","message","reducer"],"sources":["C:/Users/Süleyman/Desktop/FoodOrdering/frontend/src/store/itemsSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { API } from '../lib/api';\r\nimport type { Item } from '../types';\r\n\r\ntype State = { data: Item[]; loading: boolean; error?: string | null };\r\nconst initial: State = { data: [], loading: false, error: null };\r\n\r\nexport const fetchItems = createAsyncThunk<Item[]>('items/fetch', async () => {\r\n  try {\r\n    const { data } = await axios.get<Item[]>(`${API}/api/items`);\r\n    return data;\r\n  } catch {\r\n    // Dev sırasında json-server fallback\r\n    const { data } = await axios.get<any[]>('http://localhost:3001/items');\r\n    return data.map(d => ({\r\n      id: Number(d.id),\r\n      name: d.name ?? d.title,\r\n      image: d.image,\r\n      price: d.price,\r\n      description: d.description\r\n    }) as Item);\r\n  }\r\n});\r\n\r\nconst slice = createSlice({\r\n  name: 'items',\r\n  initialState: initial,\r\n  reducers: {},\r\n  extraReducers: b => {\r\n    b.addCase(fetchItems.pending, s => { s.loading = true; s.error = null; })\r\n     .addCase(fetchItems.fulfilled, (s, a) => { s.loading = false; s.data = a.payload; })\r\n     .addCase(fetchItems.rejected, (s, a) => { s.loading = false; s.error = a.error.message ?? 'failed'; });\r\n  }\r\n});\r\n\r\nexport default slice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,YAAY;AAIhC,MAAMC,OAAc,GAAG;EAAEC,IAAI,EAAE,EAAE;EAAEC,OAAO,EAAE,KAAK;EAAEC,KAAK,EAAE;AAAK,CAAC;AAEhE,OAAO,MAAMC,UAAU,GAAGR,gBAAgB,CAAS,aAAa,EAAE,YAAY;EAC5E,IAAI;IACF,MAAM;MAAEK;IAAK,CAAC,GAAG,MAAMH,KAAK,CAACO,GAAG,CAAS,GAAGN,GAAG,YAAY,CAAC;IAC5D,OAAOE,IAAI;EACb,CAAC,CAAC,MAAM;IACN;IACA,MAAM;MAAEA;IAAK,CAAC,GAAG,MAAMH,KAAK,CAACO,GAAG,CAAQ,6BAA6B,CAAC;IACtE,OAAOJ,IAAI,CAACK,GAAG,CAACC,CAAC;MAAA,IAAAC,OAAA;MAAA,OAAK;QACpBC,EAAE,EAAEC,MAAM,CAACH,CAAC,CAACE,EAAE,CAAC;QAChBE,IAAI,GAAAH,OAAA,GAAED,CAAC,CAACI,IAAI,cAAAH,OAAA,cAAAA,OAAA,GAAID,CAAC,CAACK,KAAK;QACvBC,KAAK,EAAEN,CAAC,CAACM,KAAK;QACdC,KAAK,EAAEP,CAAC,CAACO,KAAK;QACdC,WAAW,EAAER,CAAC,CAACQ;MACjB,CAAC;IAAA,CAAS,CAAC;EACb;AACF,CAAC,CAAC;AAEF,MAAMC,KAAK,GAAGnB,WAAW,CAAC;EACxBc,IAAI,EAAE,OAAO;EACbM,YAAY,EAAEjB,OAAO;EACrBkB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAEC,CAAC,IAAI;IAClBA,CAAC,CAACC,OAAO,CAACjB,UAAU,CAACkB,OAAO,EAAEC,CAAC,IAAI;MAAEA,CAAC,CAACrB,OAAO,GAAG,IAAI;MAAEqB,CAAC,CAACpB,KAAK,GAAG,IAAI;IAAE,CAAC,CAAC,CACvEkB,OAAO,CAACjB,UAAU,CAACoB,SAAS,EAAE,CAACD,CAAC,EAAEE,CAAC,KAAK;MAAEF,CAAC,CAACrB,OAAO,GAAG,KAAK;MAAEqB,CAAC,CAACtB,IAAI,GAAGwB,CAAC,CAACC,OAAO;IAAE,CAAC,CAAC,CACnFL,OAAO,CAACjB,UAAU,CAACuB,QAAQ,EAAE,CAACJ,CAAC,EAAEE,CAAC,KAAK;MAAA,IAAAG,gBAAA;MAAEL,CAAC,CAACrB,OAAO,GAAG,KAAK;MAAEqB,CAAC,CAACpB,KAAK,IAAAyB,gBAAA,GAAGH,CAAC,CAACtB,KAAK,CAAC0B,OAAO,cAAAD,gBAAA,cAAAA,gBAAA,GAAI,QAAQ;IAAE,CAAC,CAAC;EACzG;AACF,CAAC,CAAC;AAEF,eAAeZ,KAAK,CAACc,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}